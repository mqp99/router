/**
 * ROUTER v0.0.1
 * Build by Minh Pham (https://fb.me/mqp99)
 * Please use Jquery first before ROUTER
 * Visit github (https://mqp99.github.io/router)
*/
class Router{constructor(t){this.rootDIV=t,this.urlRoot=window.location.origin+"/",this.urlHost=window.location.href,this.urlPathname=window.location.pathname,this.urlHandling=this.urlHost===this.urlRoot?this.urlPathname:this.urlPathname.replace(/[\/]$/g,"")}setRouter(t){return this.routers=t}getRouter(){-1!==this.routers.findIndex((t,r)=>t.path===this.urlHandling)?this.render():this.renderError()}render(t){void 0===t?this.renderContent(this.urlHandling):this.renderContent(t)}renderContent(t){this.routers.forEach(function(r,o){r.path===t&&(this.pushstateUrl(r.path),$("router").removeClass("current-router"),$(`router[link='${t}']`).addClass("current-router"),$(this.rootDIV).load(this.urlRoot+r.url,function(t){$("title").html($("#title").text()||r.title),$(this.rootDIV).html(t)}))},this)}popstateUrl(){var t=this.routers,r=this.urlRoot,o=this.rootDIV;window.addEventListener("popstate",function(){t.forEach(function(t,e){t.path===window.location.pathname&&($("router").removeClass("current-router"),$(`router[link='${window.location.pathname}']`).addClass("current-router"),$(o).load(r+t.url,function(r){$("title").html($("#title").text()||t.title),$(o).html(r)}))})},this)}renderError(){$("title").html("404 Error"),$("body").html("<h1>404 error</h1><p>Page not found!</p>")}pushstateUrl(t){history.pushState("","",t)}}